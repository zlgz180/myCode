http://ddd-china.com/look-back-2017.html
http://www.itdks.com/Home/Course/detail?id=8449
https://tech.meituan.com/2017/12/22/ddd-in-practice.html


一、DDD战术
1.找到业务全景,确定业务范围，简化业务模型
2.找出核心业务服务（动词，排除名词），确定业务边界（优先解决核心问题）
3.找出通用领域和子领域（识别领域颗粒度）


```
DDD的核心诉求就是将业务架构映射到系统架构上，在响应业务变化调整业务架构时，也随之变化系统架构。
而微服务追求业务层面的复用，设计出来的系统架构和业务一致；在技术架构上则系统模块之间充分解耦，可以自由地选择合适的技术架构，去中心化地治理技术和数据。
```
二、领域驱动设计与微服务的关系？
微服务促进领域驱动，两者相辅相成，演进到后期，自然而然进行服务拆分
也就是说前期通过领域驱动设计后，后期进行微服务拆分后工作量很小，并且服务依赖少，每个服务复杂度低

三、值对象，领域对象区别？
领域对象存在生命周期（状态流转），存在唯一标识（优惠券，订单，售后单等）
值对象没有生命周期（地址，会员信息等）

四、失血，贫血，充血区别？
失血：面向过程（CRUD）
贫血：CRUD+METHOD（数据+行为）  有其他领域的引用，但是强依赖，会产生循环引用（父与子，子与父）
充血：CURD+METHOD+REPO（服务资源）

五、如何确定限界上下文
识别核心动词，非核心动词，站在全局角度考虑核心需求，而不是从主语角度出发（谁买什么，谁下单，谁送货，谁退货）
排除人，站在业务本身考虑

六、领域对象，领域服务，领域聚合根，领域应用区别
领域对象包含了领域内的动作，但不包含业务，例如跑跳摔跟头（会使service层变薄）
领域服务是领域内的方法实现，不能超过这个界限
跨领域的逻辑就要放在聚合根中
领域应用其实是聚合根和领域服务的门面模式聚会（防腐层）

七、CQRS是什么
出现原因：为了解决DDD过程中聚合根逐渐变大，进行读写拆分，降低锁颗粒度和业务复杂度
https://mp.weixin.qq.com/s?__biz=MzI4NjI3MDc1NA==&mid=2247483814&idx=1&sn=ccffe06d80a34f1d7c1349980b8e72cc&chksm=ebde35ebdca9bcfd18a61f02dfd79d6b2e8181dbc1542d623a7e083aaacfbb8b02e7c97ac88a&scene=21#wechat_redirect
定义：命令和查询分离，也就是读写分离，核心思想是读写相互不影响，读只是读的历史，是最终一致性，保证服务高性能
![Image text](https://upload-images.jianshu.io/upload_images/1845730-16b8bf09f76f3f83.jpg?imageMogr2/auto-orient/)
```
优点：
    CQ两端架构分离、相互不受束缚，各自独立设计、扩展
    C端通常结合DDD，解决复杂的业务逻辑；Q端轻量级查询，多种不同的查询视图通过订阅事件来更新
    C端通过分布式消息队列水平扩展，天然支持削峰
    EDA架构，整个系统各个部分松耦合，可扩展性好
    架构层面做到无并发，实现Command的高吞吐
    技术架构和业务代码完全分离，程序员不用关心技术问题
    更方便的分工合作
缺点：
    不是强一致性，而是面向最终一致性
    强依赖高性能可靠的分布式消息队列
    必须有强大可靠的CQRS框架，从头做起成本高、风险大
    必须结合Event Sourcing模式，否则CQ分离意义不大
    Event Sourcing模式的缺点
    一些CQRS的最佳原则提高了开发人员的门槛
```

八、设计步骤：
``` 
1.根据需求划分出初步的领域和限界上下文，以及上下文之间的关系；
2.进一步分析每个上下文内部，识别出哪些是实体，哪些是值对象；
3.对实体、值对象进行关联和聚合，划分出聚合的范畴和聚合根；
4.为聚合根设计仓储，并思考实体或值对象的创建方式；
5.在工程中实践领域模型，并在实践中检验模型的合理性，倒推模型中不足的地方并重构。

```
